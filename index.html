<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Halit Evin Aİ | Profesyonel Asistan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { font-family: ui-sans-serif, system-ui; background-color: #f1f5f9; }
        .chat-view { height: calc(100vh - 160px); overflow-y: auto; }
        .bubble { max-width: 85%; padding: 12px 16px; border-radius: 20px; font-size: 15px; margin-bottom: 12px; }
        .ai-bg { background: white; border: 1px solid #e2e8f0; color: #1e293b; border-bottom-left-radius: 4px; }
        .user-bg { background: #2563eb; color: white; border-bottom-right-radius: 4px; align-self: flex-end; }
    </style>
</head>
<body class="flex flex-col h-screen overflow-hidden">

    <!-- Header -->
    <header class="bg-white border-b px-6 py-4 flex justify-between items-center">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center text-white">
                <i class="fas fa-robot text-xl"></i>
            </div>
            <h1 class="font-bold text-lg">Halit Evin <span class="text-blue-600">Aİ</span></h1>
        </div>
        <div id="status" class="text-[10px] font-bold text-green-600 bg-green-50 px-2 py-1 rounded">ÇEVRİMİÇİ</div>
    </header>

    <!-- Chat -->
    <main id="chat" class="chat-view flex-1 p-4 flex flex-col space-y-2">
        <div class="bubble ai-bg">Merhaba Halit Bey, ben asistanınız. Google üzerinden en güncel bilgileri çekmeye hazırım. Sorunuzu bekliyorum.</div>
    </main>

    <!-- Loading -->
    <div id="loading" class="hidden px-6 py-2 text-blue-600 text-xs font-bold animate-pulse">
        <i class="fas fa-search"></i> GOOGLE TARANIYOR...
    </div>

    <!-- Input -->
    <footer class="p-4 bg-white border-t">
        <div class="flex gap-2 max-w-4xl mx-auto">
            <input type="text" id="prompt" placeholder="Bir şey yazın..." class="flex-1 bg-gray-100 p-4 rounded-2xl outline-none focus:ring-2 focus:ring-blue-500">
            <button onclick="send()" class="bg-blue-600 text-white w-14 h-14 rounded-2xl flex items-center justify-center shadow-lg active:scale-95">
                <i class="fas fa-paper-plane text-xl"></i>
            </button>
        </div>
    </footer>

    <script>
        

        const apiKey = "curl https://api.openai.com/v1/responses \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer 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" \
  -d '{
    "model": "gpt-5-nano",
    "input": "write a haiku about ai",
    "store": true
  }'
"; 

        async function send() {
            const input = document.getElementById('prompt');
            const box = document.getElementById('chat');
            const msg = input.value.trim();
            if(!msg) return;

            // Kullanıcı mesajı
            const uDiv = document.createElement('div');
            uDiv.className = "bubble user-bg";
            uDiv.innerText = msg;
            box.appendChild(uDiv);
            input.value = '';
            box.scrollTop = box.scrollHeight;

            document.getElementById('loading').classList.remove('hidden');

            try {
                const res = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: msg }] }],
                        tools: [{ "google_search": {} }],
                        systemInstruction: { parts: [{ text: "Adın Halit Evin Aİ. Google Search kullan." }] }
                    })
                });

                const data = await res.json();
                const text = data.candidates?.[0]?.content?.parts?.[0]?.text || "Bir hata oluştu.";
                
                const aDiv = document.createElement('div');
                aDiv.className = "bubble ai-bg";
                aDiv.innerText = text;
                box.appendChild(aDiv);
            } catch (e) {
                const eDiv = document.createElement('div');
                eDiv.className = "bubble ai-bg text-red-500";
                eDiv.innerText = "Bağlantı hatası. Lütfen API anahtarını kontrol edin.";
                box.appendChild(eDiv);
            } finally {
                document.getElementById('loading').classList.add('hidden');
                box.scrollTop = box.scrollHeight;
            }
        }

        document.getElementById('prompt').addEventListener('keypress', (e) => {
            if(e.key === 'Enter') send();
        });
    </script>
</body>
</html>


