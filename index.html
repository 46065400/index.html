<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Halit Evin Aİ | OpenAI Gücü</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { font-family: ui-sans-serif, system-ui; background-color: #f3f4f6; }
        .chat-container { height: calc(100vh - 160px); overflow-y: auto; scroll-behavior: smooth; }
        .bubble { max-width: 85%; padding: 14px; border-radius: 20px; margin-bottom: 12px; font-size: 15px; }
        .ai-msg { background: white; color: #1f2937; align-self: flex-start; border-bottom-left-radius: 4px; border: 1px solid #e5e7eb; }
        .user-msg { background: #007bff; color: white; align-self: flex-end; border-bottom-right-radius: 4px; box-shadow: 0 4px 6px -1px rgba(0, 123, 255, 0.3); }
        .loading { display: none; padding: 10px; color: #6b7280; font-size: 12px; font-style: italic; }
    </style>
</head>
<body class="flex flex-col h-screen overflow-hidden">

    <!-- Üst Bar -->
    <header class="bg-white border-b px-6 py-4 flex justify-between items-center shadow-sm">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-black rounded-xl flex items-center justify-center text-white">
                <i class="fas fa-bolt"></i>
            </div>
            <h1 class="font-bold text-lg text-gray-800">Halit Evin <span class="text-blue-600">GPT</span></h1>
        </div>
        <div id="status-tag" class="text-[10px] font-bold text-gray-400 border border-gray-200 px-2 py-1 rounded">BEKLİYOR</div>
    </header>

    <!-- Mesaj Alanı -->
    <main id="chatbox" class="chat-container flex-1 p-4 flex flex-col">
        <div class="bubble ai-msg shadow-sm">Merhaba Halit Bey! Şu an OpenAI altyapısını kullanıyorum. Size nasıl yardımcı olabilirim?</div>
    </main>

    <div id="loader" class="loading px-6">
        <i class="fas fa-spinner animate-spin mr-2"></i> OpenAI yanıt hazırlıyor...
    </div>

    <!-- Giriş Alanı -->
    <footer class="p-4 bg-white border-t">
        <div class="flex gap-2 max-w-4xl mx-auto">
            <input type="text" id="userInput" placeholder="Mesajınızı yazın..." 
                   class="flex-1 bg-gray-50 border border-gray-200 p-4 rounded-2xl outline-none focus:ring-2 focus:ring-blue-500 transition-all">
            <button id="sendBtn" class="bg-black text-white w-14 h-14 rounded-2xl flex items-center justify-center shadow-lg active:scale-90 transition-all">
                <i class="fas fa-paper-plane text-xl"></i>
            </button>
        </div>
    </footer>

    <script>
        // --- OPENAI API ANAHTARINIZI BURAYA YAPIŞTIRIN ---
        const apiKey = "curl https://api.openai.com/v1/responses \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer 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" \
  -d '{
    "model": "gpt-5-nano",
    "input": "write a haiku about ai",
    "store": true
  }'
"; 
        // ------------------------------------------------

        const chatbox = document.getElementById('chatbox');
        const userInput = document.getElementById('userInput');
        const sendBtn = document.getElementById('sendBtn');
        const loader = document.getElementById('loader');
        const statusTag = document.getElementById('status-tag');

        if(apiKey) {
            statusTag.innerText = "AKTİF";
            statusTag.classList.replace("text-gray-400", "text-green-600");
            statusTag.classList.add("border-green-200", "bg-green-50");
        }

        async function handleSend() {
            const prompt = userInput.value.trim();
            if (!prompt) return;

            addBubble('user', prompt);
            userInput.value = '';
            loader.style.display = 'block';

            if (!apiKey) {
                addBubble('ai', "Hata: OpenAI API anahtarı bulunamadı. Lütfen koddaki apiKey kısmını doldurun.");
                loader.style.display = 'none';
                return;
            }

            try {
                const response = await fetch("https://api.openai.com/v1/chat/completions", {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${apiKey}`
                    },
                    body: JSON.stringify({
                        model: "gpt-3.5-turbo", // Veya "gpt-4"
                        messages: [
                            { role: "system", content: "Sen Halit Evin Aİ'sin. Kibar, yardımcı ve profesyonel bir asistansın." },
                            { role: "user", content: prompt }
                        ]
                    })
                });

                const data = await response.json();
                
                if (data.error) {
                    throw new Error(data.error.message);
                }

                const aiText = data.choices[0].message.content;
                addBubble('ai', aiText);

            } catch (err) {
                addBubble('ai', "Hata: " + err.message);
            } finally {
                loader.style.display = 'none';
                chatbox.scrollTop = chatbox.scrollHeight;
            }
        }

        function addBubble(role, content) {
            const div = document.createElement('div');
            div.className = `bubble shadow-sm ${role === 'ai' ? 'ai-msg' : 'user-msg'}`;
            div.innerText = content;
            chatbox.appendChild(div);
            chatbox.scrollTop = chatbox.scrollHeight;
        }

        sendBtn.addEventListener('click', handleSend);
        userInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') handleSend();
        });
    </script>
</body>
</html>






